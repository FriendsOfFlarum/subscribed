(()=>{var t={n:r=>{var o=r&&r.__esModule?()=>r.default:()=>r;return t.d(o,{a:o}),o},d:(r,o)=>{for(var e in o)t.o(o,e)&&!t.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:o[e]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};(()=>{"use strict";t.r(r);const o=flarum.core.compat["forum/app"];var e=t.n(o);const n=flarum.core.compat["common/extend"],s=flarum.core.compat["forum/components/NotificationGrid"];var i=t.n(s);function a(t,r){return a=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},a(t,r)}function c(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r)}const u=flarum.core.compat["forum/components/Notification"];var f=t.n(u),p=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var o=r.prototype;return o.icon=function(){return"fas fa-edit"},o.href=function(){var t=this.attrs.notification;return e().route.discussion(t.subject())},o.content=function(){return e().translator.trans("fof-subscribed.forum.notifications.discussion_created_text",{user:this.attrs.notification.fromUser()})},r}(f()),d=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var o=r.prototype;return o.icon=function(){return"fas fa-edit"},o.href=function(){var t=this.attrs.notification,r=t.subject(),o=t.content()||{};return e().route.discussion(r,o.postNumber)},o.content=function(){return e().translator.trans("fof-subscribed.forum.notifications.post_created_text",{user:this.attrs.notification.fromUser()})},r}(f()),b=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var o=r.prototype;return o.icon=function(){return"fas fa-user-plus"},o.href=function(){var t=this.attrs.notification;return e().route.user(t.subject())},o.content=function(){return e().translator.trans("fof-subscribed.forum.notifications.user_created_text",{user:this.attrs.notification.fromUser()})},r}(f());const l=flarum.core.compat["common/utils/string"];var m=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var o=r.prototype;return o.icon=function(){return"fas fa-gavel"},o.href=function(){var t=this.attrs.notification.subject();return e().route.discussion(t.discussion(),t.number())},o.content=function(){return e().translator.trans("fof-subscribed.forum.notifications.post_unapproved_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return(0,l.truncate)(this.attrs.notification.subject().contentPlain(),200)},r}(f());const y=flarum.core.compat["common/models/User"];var v=t.n(y);const _=flarum.core.compat["common/Model"];var h=t.n(_);e().initializers.add("fof-subscribed",(function(){e().notificationComponents.discussionCreated=p,e().notificationComponents.postCreated=d,e().notificationComponents.userCreated=b,e().notificationComponents.postUnapproved=m,v().prototype.canSubscribeDiscussionCreated=h().attribute("canSubscribeDiscussionCreated"),v().prototype.canSubscribePostCreated=h().attribute("canSubscribePostCreated"),v().prototype.canSubscribePostUnapproved=h().attribute("canSubscribePostUnapproved"),v().prototype.canSubscribeUserCreated=h().attribute("canSubscribeUserCreated"),(0,n.extend)(i().prototype,"notificationTypes",(function(t){var r,o=null==(r=e().session)?void 0:r.user;null!=o&&o.canSubscribeDiscussionCreated()&&t.add("discussionCreated",{name:"discussionCreated",icon:"fas fa-pencil-alt",label:e().translator.trans("fof-subscribed.forum.settings.notify_discussion_created_label")},5),null!=o&&o.canSubscribePostCreated()&&t.add("postCreated",{name:"postCreated",icon:"fas fa-pencil-alt",label:e().translator.trans("fof-subscribed.forum.settings.notify_post_created_label")},4),null!=o&&o.canSubscribePostUnapproved()&&t.add("postUnapproved",{name:"postUnapproved",icon:"fas fa-check",label:e().translator.trans("fof-subscribed.forum.settings.notify_post_unapproved_label")},-10),null!=o&&o.canSubscribeUserCreated()&&t.add("userCreated",{name:"userCreated",icon:"fas fa-user-plus",label:e().translator.trans("fof-subscribed.forum.settings.notify_user_created_label")},-10)}))}))})(),module.exports=r})();
//# sourceMappingURL=forum.js.map