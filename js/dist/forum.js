(()=>{var t={n:n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return t.d(o,{a:o}),o},d:(n,o)=>{for(var r in o)t.o(o,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:o[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n);const o=flarum.core.compat["forum/app"];var r=t.n(o);const e=flarum.core.compat["common/extend"],s=flarum.core.compat["forum/components/NotificationGrid"];var i=t.n(s);function a(t,n){return a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},a(t,n)}function c(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n)}const u=flarum.core.compat["forum/components/Notification"];var f=t.n(u),p=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-edit"},o.href=function(){var t=this.attrs.notification;return r().route.discussion(t.subject())},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.discussion_created_text",{user:this.attrs.notification.fromUser()})},n}(f());const d=flarum.core.compat["common/utils/string"];var l=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-edit"},o.href=function(){var t=this.attrs.notification.subject();return r().route.discussion(t.discussion(),t.postNumber)},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.post_created_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(f()),b=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-user-plus"},o.href=function(){var t=this.attrs.notification;return r().route.user(t.subject())},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.user_created_text",{user:this.attrs.notification.fromUser()})},n}(f()),m=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-gavel"},o.href=function(){var t=this.attrs.notification.subject();return r().route.discussion(t.discussion(),t.number())},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.post_unapproved_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(f());const y=flarum.core.compat["common/models/User"];var _=t.n(y);const v=flarum.core.compat["common/Model"];var g=t.n(v),h=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-flag"},o.href=function(){var t=this.attrs.notification.subject();return r().route.discussion(t.discussion(),t.postNumber)},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.post_flagged_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(f());r().initializers.add("fof-subscribed",(function(){r().notificationComponents.discussionCreated=p,r().notificationComponents.postCreated=l,r().notificationComponents.userCreated=b,r().notificationComponents.postUnapproved=m,r().notificationComponents.postFlagged=h,_().prototype.canSubscribeDiscussionCreated=g().attribute("canSubscribeDiscussionCreated"),_().prototype.canSubscribePostCreated=g().attribute("canSubscribePostCreated"),_().prototype.canSubscribePostUnapproved=g().attribute("canSubscribePostUnapproved"),_().prototype.canSubscribeUserCreated=g().attribute("canSubscribeUserCreated"),_().prototype.canSubscribePostFlagged=g().attribute("canSubscribePostFlagged"),(0,e.extend)(i().prototype,"notificationTypes",(function(t){var n,o=null==(n=r().session)?void 0:n.user;null!=o&&o.canSubscribeDiscussionCreated()&&t.add("discussionCreated",{name:"discussionCreated",icon:"fas fa-pencil-alt",label:r().translator.trans("fof-subscribed.forum.settings.notify_discussion_created_label")},5),null!=o&&o.canSubscribePostCreated()&&t.add("postCreated",{name:"postCreated",icon:"fas fa-pencil-alt",label:r().translator.trans("fof-subscribed.forum.settings.notify_post_created_label")},4),null!=o&&o.canSubscribePostUnapproved()&&t.add("postUnapproved",{name:"postUnapproved",icon:"fas fa-check",label:r().translator.trans("fof-subscribed.forum.settings.notify_post_unapproved_label")},-10),null!=o&&o.canSubscribeUserCreated()&&t.add("userCreated",{name:"userCreated",icon:"fas fa-user-plus",label:r().translator.trans("fof-subscribed.forum.settings.notify_user_created_label")},-10),null!=o&&o.canSubscribePostFlagged()&&t.add("postFlagged",{name:"postFlagged",icon:"fas fa-flag",label:r().translator.trans("fof-subscribed.forum.settings.notify_post_flagged_label")},-10)}))}))})(),module.exports=n})();
//# sourceMappingURL=forum.js.map