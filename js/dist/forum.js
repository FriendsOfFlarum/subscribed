(()=>{var t={n:r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return t.d(n,{a:n}),n},d:(r,n)=>{for(var o in n)t.o(n,o)&&!t.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:n[o]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};(()=>{"use strict";t.r(r);const n=flarum.core.compat["forum/app"];var o=t.n(n);const e=flarum.core.compat["common/extend"],s=flarum.core.compat["forum/components/NotificationGrid"];var i=t.n(s);function a(t,r){return a=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},a(t,r)}function c(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r)}const u=flarum.core.compat["forum/components/Notification"];var f=t.n(u),p=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var n=r.prototype;return n.icon=function(){return"fas fa-edit"},n.href=function(){var t=this.attrs.notification;return o().route.discussion(t.subject())},n.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.discussion_created_text",{user:this.attrs.notification.fromUser()})},r}(f());const d=flarum.core.compat["common/utils/string"];var b=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var n=r.prototype;return n.icon=function(){return"fas fa-edit"},n.href=function(){var t=this.attrs.notification.subject();return o().route.discussion(t.discussion(),t.postNumber)},n.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.post_created_text",{user:this.attrs.notification.fromUser()})},n.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},r}(f()),l=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var n=r.prototype;return n.icon=function(){return"fas fa-user-plus"},n.href=function(){var t=this.attrs.notification;return o().route.user(t.subject())},n.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.user_created_text",{user:this.attrs.notification.fromUser()})},r}(f()),m=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var n=r.prototype;return n.icon=function(){return"fas fa-gavel"},n.href=function(){var t=this.attrs.notification.subject();return o().route.discussion(t.discussion(),t.number())},n.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.post_unapproved_text",{user:this.attrs.notification.fromUser()})},n.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},r}(f());const y=flarum.core.compat["common/models/User"];var v=t.n(y);const _=flarum.core.compat["common/Model"];var h=t.n(_);o().initializers.add("fof-subscribed",(function(){o().notificationComponents.discussionCreated=p,o().notificationComponents.postCreated=b,o().notificationComponents.userCreated=l,o().notificationComponents.postUnapproved=m,v().prototype.canSubscribeDiscussionCreated=h().attribute("canSubscribeDiscussionCreated"),v().prototype.canSubscribePostCreated=h().attribute("canSubscribePostCreated"),v().prototype.canSubscribePostUnapproved=h().attribute("canSubscribePostUnapproved"),v().prototype.canSubscribeUserCreated=h().attribute("canSubscribeUserCreated"),(0,e.extend)(i().prototype,"notificationTypes",(function(t){var r,n=null==(r=o().session)?void 0:r.user;null!=n&&n.canSubscribeDiscussionCreated()&&t.add("discussionCreated",{name:"discussionCreated",icon:"fas fa-pencil-alt",label:o().translator.trans("fof-subscribed.forum.settings.notify_discussion_created_label")},5),null!=n&&n.canSubscribePostCreated()&&t.add("postCreated",{name:"postCreated",icon:"fas fa-pencil-alt",label:o().translator.trans("fof-subscribed.forum.settings.notify_post_created_label")},4),null!=n&&n.canSubscribePostUnapproved()&&t.add("postUnapproved",{name:"postUnapproved",icon:"fas fa-check",label:o().translator.trans("fof-subscribed.forum.settings.notify_post_unapproved_label")},-10),null!=n&&n.canSubscribeUserCreated()&&t.add("userCreated",{name:"userCreated",icon:"fas fa-user-plus",label:o().translator.trans("fof-subscribed.forum.settings.notify_user_created_label")},-10)}))}))})(),module.exports=r})();
//# sourceMappingURL=forum.js.map