(()=>{var t={n:n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return t.d(r,{a:r}),r},d:(n,r)=>{for(var o in r)t.o(r,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:r[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n);const r=flarum.core.compat["forum/app"];var o=t.n(r);const e=flarum.core.compat["common/extend"],s=flarum.core.compat["forum/components/NotificationGrid"];var i=t.n(s);function a(t,n){return a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},a(t,n)}function c(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n)}const u=flarum.core.compat["forum/components/Notification"];var f=t.n(u),p=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var r=n.prototype;return r.icon=function(){return"fas fa-edit"},r.href=function(){var t=this.attrs.notification;return o().route.discussion(t.subject())},r.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.discussion_created_text",{user:this.attrs.notification.fromUser()})},r.excerpt=function(){return null},n}(f());const d=flarum.core.compat["common/utils/string"];var l=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var r=n.prototype;return r.icon=function(){return"fas fa-edit"},r.href=function(){var t=this.attrs.notification.subject();return o().route.discussion(t.discussion(),t.postNumber)},r.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.post_created_text",{user:this.attrs.notification.fromUser()})},r.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(f()),b=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var r=n.prototype;return r.icon=function(){return"fas fa-user-plus"},r.href=function(){var t=this.attrs.notification;return o().route.user(t.subject())},r.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.user_created_text",{user:this.attrs.notification.fromUser()})},r.excerpt=function(){return null},n}(f()),m=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var r=n.prototype;return r.icon=function(){return"fas fa-gavel"},r.href=function(){var t=this.attrs.notification.subject();return o().route.discussion(t.discussion(),t.number())},r.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.post_unapproved_text",{user:this.attrs.notification.fromUser()})},r.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(f());const y=flarum.core.compat["common/models/User"];var _=t.n(y);const v=flarum.core.compat["common/Model"];var g=t.n(v),h=function(t){function n(){return t.apply(this,arguments)||this}c(n,t);var r=n.prototype;return r.icon=function(){return"fas fa-flag"},r.href=function(){var t=this.attrs.notification.subject();return o().route.discussion(t.discussion(),t.postNumber)},r.content=function(){return o().translator.trans("fof-subscribed.forum.notifications.post_flagged_text",{user:this.attrs.notification.fromUser()})},r.excerpt=function(){return(0,d.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(f());o().initializers.add("fof-subscribed",(function(){o().notificationComponents.discussionCreated=p,o().notificationComponents.postCreated=l,o().notificationComponents.userCreated=b,o().notificationComponents.postUnapproved=m,o().notificationComponents.postFlagged=h,_().prototype.canSubscribeDiscussionCreated=g().attribute("canSubscribeDiscussionCreated"),_().prototype.canSubscribePostCreated=g().attribute("canSubscribePostCreated"),_().prototype.canSubscribePostUnapproved=g().attribute("canSubscribePostUnapproved"),_().prototype.canSubscribeUserCreated=g().attribute("canSubscribeUserCreated"),_().prototype.canSubscribePostFlagged=g().attribute("canSubscribePostFlagged"),(0,e.extend)(i().prototype,"notificationTypes",(function(t){var n,r=null==(n=o().session)?void 0:n.user;null!=r&&r.canSubscribeDiscussionCreated()&&t.add("discussionCreated",{name:"discussionCreated",icon:"fas fa-pencil-alt",label:o().translator.trans("fof-subscribed.forum.settings.notify_discussion_created_label")},5),null!=r&&r.canSubscribePostCreated()&&t.add("postCreated",{name:"postCreated",icon:"fas fa-pencil-alt",label:o().translator.trans("fof-subscribed.forum.settings.notify_post_created_label")},4),null!=r&&r.canSubscribePostUnapproved()&&t.add("postUnapproved",{name:"postUnapproved",icon:"fas fa-check",label:o().translator.trans("fof-subscribed.forum.settings.notify_post_unapproved_label")},-10),null!=r&&r.canSubscribeUserCreated()&&t.add("userCreated",{name:"userCreated",icon:"fas fa-user-plus",label:o().translator.trans("fof-subscribed.forum.settings.notify_user_created_label")},-10),null!=r&&r.canSubscribePostFlagged()&&t.add("postFlagged",{name:"postFlagged",icon:"fas fa-flag",label:o().translator.trans("fof-subscribed.forum.settings.notify_post_flagged_label")},-10)}))}))})(),module.exports=n})();
//# sourceMappingURL=forum.js.map