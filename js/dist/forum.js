(()=>{var t={n:n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return t.d(r,{a:r}),r},d:(n,r)=>{for(var o in r)t.o(r,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:r[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)};(()=>{"use strict";const n=flarum.core.compat["forum/app"];var r=t.n(n);const o=flarum.core.compat["common/extend"],e=flarum.core.compat["forum/components/NotificationGrid"];var s=t.n(e);function i(t,n){return i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},i(t,n)}function a(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n)}const c=flarum.core.compat["forum/components/Notification"];var u=t.n(c),f=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-edit"},o.href=function(){var t=this.attrs.notification;return r().route.discussion(t.subject())},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.discussion_created_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return null},n}(u());const p=flarum.core.compat["common/utils/string"];var d=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-edit"},o.href=function(){var t=this.attrs.notification.subject();return r().route.discussion(t.discussion(),t.postNumber)},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.post_created_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return(0,p.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(u()),l=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-user-plus"},o.href=function(){var t=this.attrs.notification;return r().route.user(t.subject())},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.user_created_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return null},n}(u()),b=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-gavel"},o.href=function(){var t=this.attrs.notification.subject();return r().route.discussion(t.discussion(),t.number())},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.post_unapproved_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return(0,p.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(u());const m=flarum.core.compat["common/models/User"];var _=t.n(m);const h=flarum.core.compat["common/Model"];var v=t.n(h),y=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.icon=function(){return"fas fa-flag"},o.href=function(){var t=this.attrs.notification.subject();return r().route.discussion(t.discussion(),t.postNumber)},o.content=function(){return r().translator.trans("fof-subscribed.forum.notifications.post_flagged_text",{user:this.attrs.notification.fromUser()})},o.excerpt=function(){return(0,p.truncate)(this.attrs.notification.subject().contentPlain(),200)},n}(u());r().initializers.add("fof-subscribed",(function(){r().notificationComponents.discussionCreated=f,r().notificationComponents.postCreated=d,r().notificationComponents.userCreated=l,r().notificationComponents.postUnapproved=b,r().notificationComponents.postFlagged=y,_().prototype.canSubscribeDiscussionCreated=v().attribute("canSubscribeDiscussionCreated"),_().prototype.canSubscribePostCreated=v().attribute("canSubscribePostCreated"),_().prototype.canSubscribePostUnapproved=v().attribute("canSubscribePostUnapproved"),_().prototype.canSubscribeUserCreated=v().attribute("canSubscribeUserCreated"),_().prototype.canSubscribePostFlagged=v().attribute("canSubscribePostFlagged"),(0,o.extend)(s().prototype,"notificationTypes",(function(t){var n,o=null==(n=r().session)?void 0:n.user;null!=o&&o.canSubscribeDiscussionCreated()&&t.add("discussionCreated",{name:"discussionCreated",icon:"fas fa-pencil-alt",label:r().translator.trans("fof-subscribed.forum.settings.notify_discussion_created_label")},5),null!=o&&o.canSubscribePostCreated()&&t.add("postCreated",{name:"postCreated",icon:"fas fa-pencil-alt",label:r().translator.trans("fof-subscribed.forum.settings.notify_post_created_label")},4),null!=o&&o.canSubscribePostUnapproved()&&t.add("postUnapproved",{name:"postUnapproved",icon:"fas fa-check",label:r().translator.trans("fof-subscribed.forum.settings.notify_post_unapproved_label")},-10),null!=o&&o.canSubscribeUserCreated()&&t.add("userCreated",{name:"userCreated",icon:"fas fa-user-plus",label:r().translator.trans("fof-subscribed.forum.settings.notify_user_created_label")},-10),null!=o&&o.canSubscribePostFlagged()&&t.add("postFlagged",{name:"postFlagged",icon:"fas fa-flag",label:r().translator.trans("fof-subscribed.forum.settings.notify_post_flagged_label")},-10)}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map